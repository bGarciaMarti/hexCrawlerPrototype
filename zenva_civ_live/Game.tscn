[gd_scene load_steps=19 format=3 uid="uid://b8x6kfyvyx22f"]

[ext_resource type="Script" path="res://Game.cs" id="1_8wki2"]
[ext_resource type="Texture2D" uid="uid://cmlhxqn2md5ib" path="res://textures/hex_128.png" id="1_bbpee"]
[ext_resource type="Script" path="res://HexTileMap.cs" id="1_vm2ja"]
[ext_resource type="Texture2D" uid="uid://cr3asni2mjy53" path="res://textures/hex_overlays.png" id="3_dgcix"]
[ext_resource type="Script" path="res://HighlightLayer.cs" id="4_ewrxl"]
[ext_resource type="Script" path="res://Camera.cs" id="4_uwgmr"]
[ext_resource type="PackedScene" uid="uid://dnninchsrcgj7" path="res://UIManager.tscn" id="6_l2gxf"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_18cwl"]
noise_type = 0
frequency = 0.011
offset = Vector3(0, 75.5, 0)
fractal_type = 2
fractal_octaves = 4
fractal_weighted_strength = 0.04

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_igi8i"]
texture = ExtResource("1_bbpee")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0
0:2/0 = 0
1:2/0 = 0
0:3/0 = 0
1:3/0 = 0

[sub_resource type="TileSet" id="TileSet_apeqg"]
tile_shape = 3
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_igi8i")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_btc3q"]
texture = ExtResource("1_bbpee")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0
0:2/0 = 0
1:2/0 = 0
0:3/0 = 0
1:3/0 = 0

[sub_resource type="TileSet" id="TileSet_csf6f"]
tile_shape = 3
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_btc3q")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gd7of"]
texture = ExtResource("1_bbpee")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
0:1/0 = 0
1:1/0 = 0
0:2/0 = 0
1:2/0 = 0
0:3/0 = 0
1:3/0 = 0

[sub_resource type="TileSet" id="TileSet_hwwaa"]
tile_shape = 3
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_gd7of")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_iacoi"]
texture = ExtResource("3_dgcix")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_l2dj2"]
tile_shape = 3
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_iacoi")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7hj18"]
texture = ExtResource("3_dgcix")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:1/0 = 0

[sub_resource type="TileSet" id="TileSet_ger5m"]
tile_shape = 3
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_7hj18")

[node name="Game" type="Node"]
script = ExtResource("1_8wki2")
noise = SubResource("FastNoiseLite_18cwl")

[node name="HexTileMap" type="Node2D" parent="."]
script = ExtResource("1_vm2ja")
width = 50
height = 50
PLAYER_COLOR = Color(0.061099, 0.445995, 0.736353, 1)

[node name="BaseLayer" type="TileMapLayer" parent="HexTileMap"]
tile_set = SubResource("TileSet_apeqg")

[node name="CivColorsLayer" type="TileMapLayer" parent="HexTileMap"]
modulate = Color(1, 1, 1, 0.603922)
tile_set = SubResource("TileSet_csf6f")

[node name="HighlightLayer" type="TileMapLayer" parent="HexTileMap"]
modulate = Color(0.111197, 0.111197, 0.111197, 0.686275)
tile_set = SubResource("TileSet_hwwaa")
script = ExtResource("4_ewrxl")

[node name="HexBordersLayer" type="TileMapLayer" parent="HexTileMap"]
modulate = Color(1, 1, 1, 0.156863)
tile_set = SubResource("TileSet_l2dj2")

[node name="SelectionOverlayLayer" type="TileMapLayer" parent="HexTileMap"]
tile_set = SubResource("TileSet_ger5m")

[node name="Camera" type="Camera2D" parent="."]
position_smoothing_enabled = true
position_smoothing_speed = 10.0
script = ExtResource("4_uwgmr")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UiManager" parent="CanvasLayer" instance=ExtResource("6_l2gxf")]

[connection signal="ClickOffMap" from="HexTileMap" to="CanvasLayer/UiManager" method="HideAllPopups"]
[connection signal="SendCityUIInfo" from="HexTileMap" to="CanvasLayer/UiManager" method="SetCityUI"]
